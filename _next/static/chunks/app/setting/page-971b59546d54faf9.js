(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{47658:(e,t,s)=>{Promise.resolve().then(s.bind(s,93529))},57245:(e,t,s)=>{"use strict";s.d(t,{f:()=>o,g:()=>r});var l=s(33146);let o=(0,s(81272).tG)("BACKEND_URL","http://127.0.0.1:28299"),r=(0,l.eU)(2)},60518:(e,t,s)=>{"use strict";s.d(t,{D:()=>o,V:()=>r});var l=s(85839);let o=(0,l.tv)({base:"tracking-tight inline font-semibold",variants:{color:{violet:"from-[#FF1CF7] to-[#b249f8]",yellow:"from-[#FF705B] to-[#FFB457]",blue:"from-[#5EA2EF] to-[#0072F5]",cyan:"from-[#00b7fa] to-[#01cfea]",green:"from-[#6FEE8D] to-[#17c964]",pink:"from-[#FF72E1] to-[#F54C7A]",foreground:"dark:from-[#FFFFFF] dark:to-[#4B4B4B]"},size:{sm:"text-3xl lg:text-4xl",md:"text-[2.3rem] lg:text-5xl leading-9",lg:"text-4xl lg:text-6xl"},fullWidth:{true:"w-full block"}},defaultVariants:{size:"md"},compoundVariants:[{color:["violet","yellow","blue","cyan","green","pink","foreground"],class:"bg-clip-text text-transparent bg-gradient-to-b"}]}),r=(0,l.tv)({base:"w-full md:w-1/2 my-2 text-lg lg:text-xl text-default-600 block max-w-full",variants:{fullWidth:{true:"!w-full"}},defaultVariants:{fullWidth:!0}})},72237:(e,t,s)=>{"use strict";s.d(t,{o:()=>o});var l=s(11046);let o={success:(e,t)=>{(0,l.$U)({title:e,description:t,color:"success"})},error:(e,t)=>{(0,l.$U)({title:e,description:t,color:"danger"})},info:(e,t)=>{(0,l.$U)({title:e,description:t,color:"default"})},warning:(e,t)=>{(0,l.$U)({title:e,description:t,color:"warning"})}}},93529:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var l=s(60881),o=s(95701),r=s(49671),a=s(33392),i=s(32758),n=s(36073),c=s(18093),d=s(14054),f=s(64753),m=s(45001),x=s(64770),u=s(72237),g=s(60518),h=s(57245);function j(e){let{cookies:t,setCookies:s}=e;return(0,l.jsxs)(r.Z,{className:"mt-4",children:[(0,l.jsx)(a.d,{children:"Cookies 配置"}),(0,l.jsxs)(i.U,{className:"flex flex-col gap-3",children:[t.map((e,o)=>(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(n.r,{className:"flex-1",placeholder:"Cookie #".concat(o+1),value:e,onChange:e=>((e,l)=>{let o=[...t];o[e]=l,s(o)})(o,e.target.value)}),(0,l.jsx)(c.T,{isIconOnly:!0,color:"danger",size:"sm",onPress:()=>{s(t.filter((e,t)=>t!==o))},children:(0,l.jsx)(f.A,{size:16})})]},o)),(0,l.jsx)(c.T,{size:"sm",startContent:(0,l.jsx)(m.A,{size:16}),variant:"flat",onPress:()=>{s([...t,""])},children:"添加 Cookie"})]})]})}function p(){let[e,t]=(0,o.useState)([]),[s,n]=(0,o.useState)([5,10]),f=(0,x.md)(h.f),m=async()=>{let t={cookies:e.filter(e=>""!==e.trim()),timer:s},l=await fetch("".concat(f,"/mainConfig/setConfig"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await l.json();0===o.code?u.o.success("保存成功"):u.o.error("保存失败",o.msg)},p=async()=>{try{let e=await fetch("".concat(f,"/mainConfig/getConfig")),s=await e.json();if(0===s.code){let e=s.data;t(e.cookies),n(e.timer)}else u.o.error("获取配置失败",s.msg)}catch(e){u.o.error("获取配置异常",String(e))}};(0,o.useEffect)(()=>{p()},[]);let w=async()=>{try{let e=await fetch("".concat(f,"/mainConfig/reReadConfig"),{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();0===t.code?(u.o.success("读取成功"),await p()):u.o.error("读取失败",t.msg)}catch(e){u.o.error("读取异常",String(e))}};return(0,l.jsxs)("div",{className:"p-0 max-w-xl mx-auto",children:[(0,l.jsx)("h1",{className:(0,g.D)(),children:"爬虫全局配置"}),(0,l.jsx)(j,{cookies:e,setCookies:t}),(0,l.jsxs)(r.Z,{className:"mt-4",children:[(0,l.jsx)(a.d,{children:(0,l.jsxs)("div",{className:"text-left",children:["爬取间隔 (秒)",(0,l.jsx)("br",{}),(0,l.jsx)("span",{style:{color:"violet",fontSize:14},children:"如果只有一个凭证, 不建议间隔低于5秒"})]})}),(0,l.jsxs)(i.U,{children:[(0,l.jsx)(d.Q,{label:"范围",maxValue:20,minValue:1,step:1,value:s,onChange:e=>n(e)}),(0,l.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["当前: ",s[0]," ~ ",s[1]," 秒"]})]})]}),(0,l.jsx)(c.T,{className:"mt-6 w-full",color:"primary",onPress:m,children:"保存配置"}),(0,l.jsxs)(c.T,{className:"mt-6 w-full",color:"warning",onPress:w,children:["从",(0,l.jsx)("code",{children:"文件系统"}),(0,l.jsx)("b",{children:"重新读取"}),"配置文件"]})]})}}},e=>{e.O(0,[302,191,192,717,151,969,803,447,358],()=>e(e.s=47658)),_N_E=e.O()}]);